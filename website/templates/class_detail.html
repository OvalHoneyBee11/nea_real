{% extends "base.html" %}
{% block title %}Class Details{% endblock %}

{% block content %}
<h1>{{ class_.name }}</h1>          
<p>{{ class_.description }}</p>
<p>Teacher: {{ class_.teacher.username }}</p>

<div class="mb-3">
    <a href="{{ url_for('classes.class_chat', class_id=class_.id) }}" class="btn btn-success">Class Chat</a>
    <a href="{{ url_for('classes.view_assignments', class_id=class_.id) }}" class="btn btn-info">Assignments</a>
    {% if is_teacher %}
        <a href="{{ url_for('classes.create_assignment', class_id=class_.id) }}" class="btn btn-primary">Create Assignment</a>
    {% endif %}
</div>

<h2>Students Enrolled</h2>
<ul>
    {% for student in students %}
        <li>{{ student.username }}</li>
    {% else %}
        <li>No students enrolled yet.</li>
    {% endfor %}
</ul>

{% if is_teacher %}
    <div style="margin-top: 2rem;">
        <form method="POST" action="{{ url_for('classes.delete_class', class_id=class_.id) }}" onsubmit="return confirm('Are you sure you want to delete this class? This cannot be undone.');">
            <button type="submit" class="btn btn-danger">Delete Class</button>
        </form>
    </div>
{% endif %}
{% endblock %}